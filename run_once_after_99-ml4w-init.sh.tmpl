#!/bin/bash
# -------------------------------------------------------------------------
# ML4W State Fixer
# The 'dotfiles' repo does not contain the logic to link themes.
# This script emulates the ML4W Installer's final step.
# -------------------------------------------------------------------------

# 1. Waybar Theme Link
#if [ ! -e "$HOME/.config/waybar/themes/config" ]; then
#    echo ":: Linking Default Waybar Theme"
#    # CHANGE: Point to ../config, not ../default/config.sh
#    ln -sf "$HOME/.config/waybar/themes/ml4w-modern/config" "$HOME/.config/waybar/themes/config"
    
    # Keep style pointing to the default folder
#    ln -sf "$HOME/.config/waybar/themes/ml4w-modern/default/style.css" "$HOME/.config/waybar/themes/style.css"
#fi

# 2. Rofi Theme Link (Required for Menus)
#if [ ! -e "$HOME/.config/rofi/config.rasi" ]; then
#    ln -sf "$HOME/.config/rofi/config-modern.rasi" "$HOME/.config/rofi/config.rasi" 2>/dev/null || true
#fi

# 3. Generate Wallpaper Cache (Required for Wallpapers to appear)
# We only run this if the cache is missing.
#if [ ! -f "$HOME/.cache/ml4w/hyprland-dotfiles/current_wallpaper" ]; then
#    echo ":: Generating Wallpaper Cache"
#    "$HOME/.config/hypr/scripts/wallpaper.sh" "$HOME/.config/ml4w/wallpapers/fall-echo-tries.png" >/dev/null 2>&1
#fi
